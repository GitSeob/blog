{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport useInput from '@hooks/useInput';\nimport { LOAD_USER_REQUSET, LOGIN_REQUEST } from '@reducers/user';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport wrapper from '@store/configureStore';\nimport { useRouter } from 'next/dist/client/router';\nimport axios from 'axios';\nimport LoadingFilter from '@components/layout/LoadingFilter';\nimport styled from 'styled-components';\n\nconst Login = () => {\n  const [username, onChangeUsername] = useInput('');\n  const [password, onChangePassword] = useInput('');\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => state.user);\n  const loading = useSelector(state => state.loading);\n  const router = useRouter();\n  const onSubmitLogin = React.useCallback(e => {\n    e.preventDefault();\n    if (username.length < 4 || password.length < 8) return;\n    dispatch({\n      type: LOGIN_REQUEST,\n      payload: {\n        username,\n        password\n      }\n    });\n  }, [username, password]);\n  React.useEffect(() => {\n    if (user) router.push('/');\n  }, [user]);\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [loading.LOGIN_REQUEST && /*#__PURE__*/_jsx(LoadingFilter, {}), /*#__PURE__*/_jsx(LoginContainer, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: \"/ogImage.png\"\n        }), /*#__PURE__*/_jsxs(\"form\", {\n          onSubmit: onSubmitLogin,\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsxs(\"label\", {\n              children: [\"ID\", /*#__PURE__*/_jsx(\"input\", {\n                type: \"text\",\n                placeholder: \"\\uC544\\uC774\\uB514\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n                value: username,\n                onChange: onChangeUsername\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsxs(\"label\", {\n              children: [\"PASSWORD\", /*#__PURE__*/_jsx(\"input\", {\n                type: \"password\",\n                placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n                autoComplete: \"off\",\n                value: password,\n                onChange: onChangePassword\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"input\", {\n            type: \"submit\",\n            value: \"LOGIN\"\n          })]\n        })]\n      })\n    })]\n  });\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  context.store.dispatch({\n    type: LOAD_USER_REQUSET\n  });\n  context.store.dispatch(END);\n  await context.store.sagaTask.toPromise();\n});\nexport default Login;\nexport const LoginContainer = styled.div`\n\tpadding: 40px 20px;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: calc(100vh - 40px);\n\n\t& > div {\n\t\tbackground: #fff;\n\t\tbox-shadow: 0 0 4px 1px rgba(0, 0, 0, 0.16);\n\n\t\timg {\n\t\t\twidth: 280px;\n\t\t}\n\n\t\t& > form {\n\t\t\twidth: 280px;\n\t\t\tpadding: 1rem;\n\n\t\t\tdiv {\n\t\t\t\tline-height: 1.8;\n\t\t\t\tfont-size: 10px;\n\t\t\t\tpadding: 1rem;\n\t\t\t\tborder: 1px solid #ddd;\n\t\t\t\tborder-bottom: none;\n\t\t\t\tposition: relative;\n\n\t\t\t\tp {\n\t\t\t\t\twidth: 60px;\n\t\t\t\t}\n\n\t\t\t\t&:nth-child(3) {\n\t\t\t\t\tborder-top: 1px solid #ddd;\n\t\t\t\t}\n\n\t\t\t\tinput {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 0;\n\t\t\t\t\theight: 18px;\n\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\twidth: 160px;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& > input[type='submit'] {\n\t\t\t\tpadding: 1rem;\n\t\t\t\tborder: 1px solid #ddd;\n\t\t\t\tcolor: #707070;\n\t\t\t\twidth: 100%;\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tbackground: #ddd;\n\t\t\t\ttransition: 0.3s;\n\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: rgba(95, 58, 154, 0.63);\n\t\t\t\t\tborder: 1px solid rgba(95, 58, 154, 0.13);\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;","map":null,"metadata":{},"sourceType":"module"}