{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nimport { MainContainer } from '@styles/mainPage';\nimport HeadCategories from '@containers/main/HeadCategories';\nimport PostCards from '@containers/main/PostCards';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { LOAD_POSTS_REQUEST } from '@reducers/posts';\nimport DefaultErrorPage from 'next/error';\n\nvar Index = function Index(_ref) {\n  var category = _ref.category;\n\n  var _useSelector = useSelector(function (state) {\n    return state.posts;\n  }),\n      posts = _useSelector.posts,\n      Category = _useSelector.Category,\n      isLoaddingPosts = _useSelector.isLoaddingPosts,\n      EndOfPosts = _useSelector.EndOfPosts,\n      numberOfPosts = _useSelector.numberOfPosts,\n      loadPostsErrorReason = _useSelector.loadPostsErrorReason;\n\n  var dispatch = useDispatch();\n  useEffect(function () {\n    var onScroll = function onScroll() {\n      if (window.scrollY + document.documentElement.clientHeight > document.documentElement.scrollHeight - 10) {\n        if (!(loadPostsErrorReason || isLoaddingPosts || EndOfPosts)) {\n          var _posts;\n\n          dispatch({\n            type: LOAD_POSTS_REQUEST,\n            payload: {\n              category: category,\n              lastId: (_posts = posts[posts.length - 1]) === null || _posts === void 0 ? void 0 : _posts.id\n            }\n          });\n        }\n      }\n    };\n\n    window.addEventListener('scroll', onScroll);\n    return function () {\n      window.removeEventListener('scroll', onScroll);\n    };\n  }, [posts]);\n  return __jsx(React.Fragment, null, loadPostsErrorReason ? __jsx(DefaultErrorPage, {\n    statusCode: 503,\n    title: \"\\uC11C\\uBC84\\uAC00 \\uC751\\uB2F5\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4.\"\n  }) : __jsx(MainContainer, null, __jsx(HeadCategories, {\n    category: category,\n    Category: Category,\n    pageRoot: \"\",\n    postNum: numberOfPosts\n  }), __jsx(PostCards, {\n    posts: posts\n  })));\n};\n\nexport var __N_SSP = true;\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}